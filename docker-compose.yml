version: '3.8'
services:
  # tamashi:
  #   build: ./
  #   container_name: tamashi_bot
  #   image: rofedl/tamashi:2.0.0
  #   ports:
  #     - 8080:8080
  #   depends_on:
  #     - redis
  #     - lavalink
  #   networks:
  #     - default
  #   environment:
  #     REDIS_DOCKER_HOST: redis
  #     LAVALINK_DOCKER_HOST: lavalink
  #   volumes:
  #     - type: bind
  #       source: ./src/config.json
  #       target: /opt/tamashi/src/config.json

  redis:
    image: redis
    container_name: tamashi_redis
    # comment the ports when the bot will be included in the docker
    ports:
      - 6379:6379
    networks:
      - default
    logging:
      driver: none

  lavalink:
    image: ghcr.io/lavalink-devs/lavalink:4.0.7
    container_name: tamashi_lavalink
    # comment the ports when the bot will be included in the docker
    ports:
      - 2333:2333
    networks:
      - default
    volumes:
      - type: bind
        source: ./application.yml
        target: /opt/Lavalink/application.yml

networks:
  default:
